<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>swift项目中的注意点 | guchunli</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Swift项目" />
  
  
  
  
  <meta name="description" content="swift与OC的区别 注意: Swift开发中定义变量时候先用let(常量), 只有真正需要修改时才用var 由于编译器可以通过赋值的类型自动推导出数据的真实类型, 所以在Swift开发中, 能不写数据类型就不写数据类型">
<meta name="keywords" content="Swift项目">
<meta property="og:type" content="article">
<meta property="og:title" content="Swift项目中的注意点">
<meta property="og:url" content="https://guchunli.github.io/2017/08/03/Swift项目中的注意点/index.html">
<meta property="og:site_name" content="guchunli">
<meta property="og:description" content="swift与OC的区别 注意: Swift开发中定义变量时候先用let(常量), 只有真正需要修改时才用var 由于编译器可以通过赋值的类型自动推导出数据的真实类型, 所以在Swift开发中, 能不写数据类型就不写数据类型">
<meta property="og:updated_time" content="2018-05-24T09:16:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Swift项目中的注意点">
<meta name="twitter:description" content="swift与OC的区别 注意: Swift开发中定义变量时候先用let(常量), 只有真正需要修改时才用var 由于编译器可以通过赋值的类型自动推导出数据的真实类型, 所以在Swift开发中, 能不写数据类型就不写数据类型">
  
    <link rel="alternate" href="/atom.xml" title="guchunli" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css" >
  

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">Startseite</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives/">Archive</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories/study/">study</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories/other/">other</a> </li>
                
                  <li> <a class="main-nav-link" href="/photos">photos</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">Tags</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">About</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Schreib etwas..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Beiträge',
            PAGES: 'Seiten',
            CATEGORIES: 'Kategorien',
            TAGS: 'Tags',
            UNTITLED: '(Unbenannt)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-Swift项目中的注意点" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Swift项目中的注意点
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/08/03/Swift项目中的注意点/" class="article-date">
	  <time datetime="2017-08-03T02:16:56.000Z" itemprop="datePublished">2017-08-03</time>
	</a>

      
    <a class="article-category-link" href="/categories/study/">学习</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		PV:<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="swift与OC的区别"><a href="#swift与OC的区别" class="headerlink" title="swift与OC的区别"></a>swift与OC的区别</h2><ul>
<li>注意: Swift开发中定义变量时候先用let(常量), 只有真正需要修改时才用var</li>
<li>由于编译器可以通过赋值的类型自动推导出数据的真实类型, 所以在Swift开发中, 能不写数据类型就不写数据类型<a id="more"></a></li>
<li>Swift 对类型校验更加严格，不同类型的变量不允许直接计算</li>
<li>Swift语法允许我们直接修改一个对象的结构体属性的成员</li>
<li><p>一般情况下只有需要区分两个变量, 或者在闭包中访问外界属性才需要加上self，可以提醒程序员主动思考当前self会不会形成循环引用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">titleLabel?.frame.origin.x = 0</div></pre></td></tr></table></figure>
</li>
<li><p>一般在本类中的扩展中实现代理方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">extension QRCodeViewController: UINavigationControllerDelegate, UIImagePickerControllerDelegate</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="day-1"><a href="#day-1" class="headerlink" title="day 1"></a>day 1</h1><h2 id="创建项目准备工作"><a href="#创建项目准备工作" class="headerlink" title="创建项目准备工作"></a>创建项目准备工作</h2><h3 id="删除模板文件"><a href="#删除模板文件" class="headerlink" title="删除模板文件"></a>删除模板文件</h3><ul>
<li>ViewController.swift</li>
<li>Main.storyboard</li>
<li>LaunchScreen.xib</li>
</ul>
<h3 id="创建项目结构"><a href="#创建项目结构" class="headerlink" title="创建项目结构"></a>创建项目结构</h3><h4 id="主目录-Classes"><a href="#主目录-Classes" class="headerlink" title="主目录 Classes"></a>主目录 <code>Classes</code></h4><h4 id="二级目录"><a href="#二级目录" class="headerlink" title="二级目录"></a>二级目录</h4><table>
<thead>
<tr>
<th>目录名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Main</td>
<td>主要</td>
</tr>
<tr>
<td>Home</td>
<td>首页</td>
</tr>
<tr>
<td>Message</td>
<td>消息</td>
</tr>
<tr>
<td>Discover</td>
<td>发现</td>
</tr>
<tr>
<td>Profile</td>
<td>我</td>
</tr>
<tr>
<td>Tools</td>
<td>工具类</td>
</tr>
</tbody>
</table>
<h3 id="创建项目文件"><a href="#创建项目文件" class="headerlink" title="创建项目文件"></a>创建项目文件</h3><h4 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h4><p>BaseTabbar/BaseNavigation/BaseViewController</p>
<h4 id="功能模块"><a href="#功能模块" class="headerlink" title="功能模块"></a>功能模块</h4><table>
<thead>
<tr>
<th>目录</th>
<th>Controller</th>
</tr>
</thead>
<tbody>
<tr>
<td>Home</td>
<td>HomeTableViewController.swift</td>
</tr>
<tr>
<td>Message</td>
<td>MessageTableViewController.swift</td>
</tr>
<tr>
<td>Discover</td>
<td>DiscoverTableViewController.swift</td>
</tr>
<tr>
<td>Profile</td>
<td>ProfileTableViewController.swift</td>
</tr>
</tbody>
</table>
<h3 id="设置程序入口"><a href="#设置程序入口" class="headerlink" title="设置程序入口"></a>设置程序入口</h3><ul>
<li>修改 <code>AppDelegate</code> 中的 <code>didFinishLaunchingWithOptions</code> 函数，设置启动控制器</li>
</ul>
<h3 id="iOS-Images-Extractor"><a href="#iOS-Images-Extractor" class="headerlink" title="iOS Images Extractor"></a>iOS Images Extractor</h3><p>可以获取APP中的所有图片</p>
<h2 id="架构-设计"><a href="#架构-设计" class="headerlink" title="架构/设计"></a>架构/设计</h2><ul>
<li>单一职责原则</li>
<li>这是经常被违背的原则。一个类只能干一个事情，一个方法最好也只干一件事情。比较常见的违背是<code>一个类既干UI的事情，又干逻辑的事情</code>，这个在低质量的客户端代码里很常见</li>
<li>行为是否统一，例如：</li>
<li>缓存是否统一</li>
<li>错误处理是否统一</li>
<li>错误提示是否统一</li>
<li>弹出框是否统一</li>
<li>……</li>
<li>代码污染</li>
<li>代码有没有对其他模块强耦合</li>
<li>重复代码</li>
<li>开闭原则</li>
<li>面向接口编程</li>
<li>健壮性</li>
<li>是否考虑线程安全</li>
<li>数据访问是否一致性</li>
<li>边界处理是否完整</li>
<li>逻辑是否健壮</li>
<li>是否有内存泄漏</li>
<li>有没有循环依赖</li>
<li>有没有野指针</li>
<li>……</li>
<li>错误处理</li>
<li>改动是不是对代码的提升</li>
<li>新的改动是打补丁，让代码质量继续恶化，还是对代码质量做了修复</li>
<li>效率/性能</li>
<li>关键算法的时间复杂度多少？有没有可能有潜在的性能瓶颈</li>
<li>客户端程序对频繁消息和较大数据等耗时操作是否处理得当</li>
</ul>
<h2 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h2><ul>
<li>可读性</li>
<li>衡量可读性的可以有很好实践的标准，就是 Reviewer 能否非常容易的理解这个代码。如果不是，那意味着代码的可读性要进行改进</li>
<li>命名对可读性非常重要</li>
<li>英语用词尽量准确一点，必要时可以查字典</li>
<li>函数长度/类长度</li>
<li>函数太长的不好阅读</li>
<li>类太长了，检查是否违反的 <code>单一职责</code> 原则</li>
<li>恰到好处的注释</li>
<li>参数不要太多，一般不要超过 3 个</li>
</ul>
<h2 id="log"><a href="#log" class="headerlink" title="log"></a>log</h2><ul>
<li><p>QorumLogs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">QorumLogs.enabled = true // 启用QorumLogs</div><div class="line">QorumLogs.test() // 测试QorumLogs</div><div class="line"></div><div class="line">// 设置需要显示的等级</div><div class="line">QorumLogs.minimumLogLevelShown = 3</div><div class="line"></div><div class="line">// 测试的时候，可以限定输出文件</div><div class="line">QorumLogs.onlyShowThisFile(BaseTabbarController.self)</div><div class="line"></div><div class="line">QL1(&quot;mylog&quot;) // debug</div><div class="line">QL2(&quot;mylog&quot;)  // info</div><div class="line">QL3(&quot;mylog&quot;) // warning</div><div class="line">QL4(&quot;mylog&quot;) // error</div><div class="line">QLPlusLine() // 打印加号作为分割线</div><div class="line">QLShortLine() // 打印等号作为分割线</div></pre></td></tr></table></figure>
</li>
<li><p>自定义LOG<br>print(#function)  // 打印所在的方法<br>print(#line)     // 打印所在的行<br>print(#file)     // 打印所在文件的路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">泛型</div><div class="line">如果想在函数中使用泛型, 那么必须告诉系统者是一个泛型函数</div><div class="line">func 函数名称&lt;T&gt;(形参列表) -&gt; 返回值类型</div><div class="line">&#123;</div><div class="line">&#125;</div><div class="line">message : T</div><div class="line">T具体是什么类型由调用者来确定, 调用者传递的是什么类型, T就是什么类型</div><div class="line">*/</div><div class="line">func XXLog&lt;T&gt;(_ message: T, method: String = #function, line: Int = #line)</div><div class="line">&#123;</div><div class="line">#if DEBUG</div><div class="line">print(&quot;\(method)[\(line)]: \(message)&quot;)</div><div class="line">#endif</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="异常处理机制"><a href="#异常处理机制" class="headerlink" title="异常处理机制"></a>异常处理机制</h2><p>do catch的作用: 一旦方法抛出异常, 那么就会执行catch后面{}中的内容, 如果没有抛出异常, 那么catch后面{}中的内容不执行<br>try : 正常处理异常, 一旦有异常就执行catch<br>try!: 强制处理异常(忽略异常),也就是说告诉系统一定不会发生异常, 如果真的发生了异常, 那么程序会崩溃<br>try?: 忽略异常, 告诉系统可能有异常也可能没有异常, 如果发生异常返回值就是nil, 如果没有发生异常, 会将返回值包装为一个可选类型的值<br>开发中推举使用try? 和 try , 不推荐使用try!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//序列化JSON</div><div class="line">guard let dictArray = try? NSJSONSerialization.JSONObjectWithData(jsonData!, options: NSJSONReadingOptions.MutableContainers) else&#123;&#125;</div></pre></td></tr></table></figure></p>
<h2 id="动态加载控制器"><a href="#动态加载控制器" class="headerlink" title="动态加载控制器"></a>动态加载控制器</h2><ul>
<li><p>命名空间<br>作用: 避免重复<br>不用项目中的命名空间是不一样的, 默认情况下命名空间的名称就是当前项目的名称<br>正是因为Swift可以通过命名空间来解决重名的问题, 所以在做Swift开发时尽量使用cocoapods来集成三方框架, 这样可以有效的避免类名重复<br>正是因为Swift中有命名空间, 所以通过一个字符串来创建一个类和OC中也不太一样了, OC中可以直接通过类名创建一个类, 而Swift中如果想通过类名来创建一个类必须加上命名空间</p>
</li>
<li><p>guard可以有效的解决可选绑定容易形成{}嵌套问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">guard 条件表达式 else &#123;</div><div class="line">//            需要执行的语句</div><div class="line">//            只有条件为假才会执行&#123;&#125;中的内容</div><div class="line">return</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>动态加载控制器</p>
<ul>
<li>在 swift 中，类名是包含命名空间的,类名的组成格式是 <code>namespace.类名</code></li>
<li>命名空间默认是项目名称，同一个命名空间全局共享</li>
<li>从 <code>mainBundle</code> 的 <code>infoDictionary</code> 获取命名空间名称,namespace 对应的是 <code>CFBundleExecutable</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">childControllerName = &quot;HomeTableViewController&quot;</div><div class="line"></div><div class="line">// 1.动态获取命名空间</div><div class="line">// 由于字典/数组中只能存储对象, 所以通过一个key从字典中获取值取出来是一个AnyObject类型, 并且如果key写错或者没有对应的值, 那么就取不到值, 所以返回值可能有值也可能没值, 所以最终的类型是AnyObject?</div><div class="line">guard let name =  NSBundle.mainBundle().infoDictionary![&quot;CFBundleExecutable&quot;] as? String else</div><div class="line">&#123;</div><div class="line">NJLog(&quot;获取命名空间失败&quot;)</div><div class="line">return</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 2.根据字符串获取Class</div><div class="line">let cls: AnyClass? = NSClassFromString(name + &quot;.&quot; + childControllerName)</div><div class="line"></div><div class="line">// 3.告诉编译器真实类型是UITableViewController</div><div class="line">// Swift中如果想通过一个Class来创建一个对象, 必须告诉系统这个Class的确切类型</div><div class="line">guard let typeCls = cls as? UITableViewController.Type else</div><div class="line">&#123;</div><div class="line">NJLog(&quot;cls不能当做UITableViewController&quot;)</div><div class="line">return</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 4.实例化控制器</div><div class="line">// 通过Class创建对象</div><div class="line">let childController = typeCls.init()</div><div class="line">NJLog(childController)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="as"><a href="#as" class="headerlink" title="as"></a>as</h2><ul>
<li><p>如果某些方法返回的数据类型是 <code>AnyObject</code>/<code>AnyClass</code>，则需要在右侧使用 <code>as 类型</code> 表明类型，并且根据返回值<code>是否是可选项</code>，添加 <code>!</code> 或者 <code>?</code>，例如：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> ns = <span class="type">NSBundle</span>.mainBundle().infoDictionary![<span class="string">"CFBundleExecutable"</span>] <span class="keyword">as</span>! <span class="type">String</span></div></pre></td></tr></table></figure>
</li>
<li><p>如果某些方法返回类型是 <code>AnyObject</code>/<code>AnyClass</code>，但是对象类型是动态生成的，也就是说，编码时同样无法确定改对象的准确类型，可以在左侧使用 <code>: AnyObject</code> 或者 <code>: AnyClass</code> 告诉编译器暂不处理</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cls: <span class="type">AnyClass</span> = <span class="type">NSClassFromString</span>(ns + <span class="string">"."</span> + vcName)!</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="storyboard-refrence"><a href="#storyboard-refrence" class="headerlink" title="storyboard refrence"></a>storyboard refrence</h2><h2 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h2><p>懒加载的代码是一个闭包，因此在代码内部需要使用 <code>self.</code><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> centerBtn: <span class="type">UIButton</span> = &#123;</div><div class="line">    () -&gt; <span class="type">UIButton</span></div><div class="line">    <span class="keyword">in</span></div><div class="line"></div><div class="line">    <span class="keyword">let</span> btn = <span class="type">UIButton</span>()</div><div class="line">    <span class="keyword">return</span> btn</div><div class="line">&#125;()</div></pre></td></tr></table></figure></p>
<h2 id="objc"><a href="#objc" class="headerlink" title="@objc"></a>@objc</h2><ul>
<li>类<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@objc class MyHelper:NSObject &#123;  </div><div class="line">// class code  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>使用@objc修饰后的类型，可以直接供 Objective-C 调用<br>使用@objc修饰的类，必须继承自NSObject。</p>
<ul>
<li>方法<br><code>@objc private func</code><br>作用：在swift 中 如果一个按钮添加点击方法 如果定义为Private  或者 定义为 FilePrivate 那么会在Addtaget方法中找不到私有方法<br>但是又不想把方法暴露出来，避免外界访问 ，那么可以在私有方法前加 @objc 修饰 那么它就能找到那个方法了, 允许这个函数在“运行时”通过oc的消息机制调用</li>
</ul>
<h2 id="private-fileprivate"><a href="#private-fileprivate" class="headerlink" title="private/fileprivate"></a>private/fileprivate</h2><ul>
<li>private<br>能在同一个类 或者 同一个文件（extension）中访问这个方法</li>
<li>不希望暴露的方法，应该使用 <code>private</code> 修饰符</li>
<li><p>按钮点击事件的调用是由 <code>运行循环</code> 监听并且以<code>消息机制</code>传递的，因此，按钮监听函数不能设置为 <code>private</code></p>
</li>
<li><p>fileprivate<br>只能在一个类中访问 不能在类扩展中访问</p>
</li>
</ul>
<h2 id="通知-代理-block"><a href="#通知-代理-block" class="headerlink" title="通知/代理/block"></a>通知/代理/block</h2><p>通知 : 层级结构较深<br>代理 : 父子 , 方法较多时候使用<br>block: 父子, 方法较少时使用(一般情况一个方法)</p>
<blockquote>
<p>和OC不一样, Swift中如果简单的调用代理方法, 不用判断代理能否响应</p>
</blockquote>
<h2 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h2><ul>
<li>定义协议</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/// 访客视图协议</span></div><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">VisitorViewDelegate</span>: <span class="title">NSObjectProtocol</span></span></div><div class="line">&#123;</div><div class="line"><span class="comment">/// 将要登录</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">visitorViewLogin</span><span class="params">()</span></span></div><div class="line"><span class="comment">/// 将要注册</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">visitorViewRegister</span><span class="params">()</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>定义协议时，需要继承自 <code>NSObjectProtocol</code>，否则无法设置代理的类型</p>
</blockquote>
<ul>
<li>定义代理</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/// 定义代理 - 一定要用 weak</span></div><div class="line"><span class="keyword">weak</span> <span class="keyword">var</span> delegate: <span class="type">VisitorViewDelegate</span>?</div></pre></td></tr></table></figure>
<h2 id="构造器"><a href="#构造器" class="headerlink" title="构造器"></a>构造器</h2><p>如果构造方法前面没有convenience单词, 代表着是一个初始化构造方法(指定构造方法)<br>如果构造方法前面有convenience单词, 代表着是一个便利构造方法</p>
<p>指定构造方法和便利构造方法的区别<br>1.指定构造方法中必须对所有的属性进行初始化<br>2.便利构造方法中不用对所有的属性进行初始, “因为便利构造方法依赖于指定构造方法”<br>一般情况下如果想给系统的类提供一个快速创建的方法, 就自定义一个便利构造方法</p>
<p>##<br>// 一般情况下设置全局性的属性, 最好放在AppDelegate中设置, 这样可以保证后续所有的操作都是设置之后的操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 设置全局外观</div><div class="line">private func setupAppearance() &#123;</div><div class="line">    UINavigationBar.appearance().tintColor = UIColor.orange</div><div class="line">    UITabBar.appearance().tintColor = UIColor.orange</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="tabbarItem"><a href="#tabbarItem" class="headerlink" title="tabbarItem"></a>tabbarItem</h2><p>tabBar 的 items 是在 <code>视图将要出现之前</code> 才被创建的</p>
<ul>
<li>viewDidLoad 方法调用是实例化控制器方法触发的<br>此时只是创建子控制器，而由于界面还没有显示，按照 iOS 开发的延迟创建原则，tabBar 中的 items 还没有被创建</li>
<li>viewWillAppear 方法是由 <code>makeKeyAndVisible</code> 方法触发的<br>此时需要开始准备将控制器的子视图添加到界面上，因此 tabBar 中的 items 已经被创建</li>
</ul>
<h1 id="day-2"><a href="#day-2" class="headerlink" title="day 2"></a>day 2</h1><h2 id="UIPresentationController"><a href="#UIPresentationController" class="headerlink" title="UIPresentationController"></a>UIPresentationController</h2><p>1.自定义转场modal出来的控制器不会移除原有的控制器<br>2.自定义转场modal出来的控制器的尺寸可以自己在containerViewWillLayoutSubviews方法中控制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">override func containerViewWillLayoutSubviews()</div><div class="line">&#123;</div><div class="line">// 设置弹出视图的尺寸</div><div class="line">presentedView()?.frame = CGRect(x: 100, y: 45, width: 200, height: 200)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.containerView 非常重要, 容器视图, 所有modal出来的视图都是添加到containerView上的<br>4.presentedView() 非常重要, 通过该方法能够拿到弹出的视图</p>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: '如果觉得我的文章对您有用，请随意打赏。您的支持将鼓励我继续创作!', // 可选参数，打赏标题
  btnText: 'Donate', // 可选参数，打赏按钮文字
  el: document.getElementById('donation_div'),
  wechatImage: '/assets/blogImg/weixin.png',
  alipayImage: '/assets/blogImg/zhifubao.png'
});
</script>
      
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/08/04/SVN使用/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Neuer</strong>
      <div class="article-nav-title">
        
          SVN使用
        
      </div>
    </a>
  
  
    <a href="/2017/08/01/github上优秀的iOS开源项目/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Älter</strong>
      <div class="article-nav-title">github上优秀的iOS开源项目</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Inhalt</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#swift与OC的区别"><span class="nav-number">1.</span> <span class="nav-text">swift与OC的区别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#day-1"><span class="nav-number"></span> <span class="nav-text">day 1</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#创建项目准备工作"><span class="nav-number">1.</span> <span class="nav-text">创建项目准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#删除模板文件"><span class="nav-number">1.1.</span> <span class="nav-text">删除模板文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建项目结构"><span class="nav-number">1.2.</span> <span class="nav-text">创建项目结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#主目录-Classes"><span class="nav-number">1.2.1.</span> <span class="nav-text">主目录 Classes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#二级目录"><span class="nav-number">1.2.2.</span> <span class="nav-text">二级目录</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建项目文件"><span class="nav-number">1.3.</span> <span class="nav-text">创建项目文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Main"><span class="nav-number">1.3.1.</span> <span class="nav-text">Main</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#功能模块"><span class="nav-number">1.3.2.</span> <span class="nav-text">功能模块</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置程序入口"><span class="nav-number">1.4.</span> <span class="nav-text">设置程序入口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iOS-Images-Extractor"><span class="nav-number">1.5.</span> <span class="nav-text">iOS Images Extractor</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#架构-设计"><span class="nav-number">2.</span> <span class="nav-text">架构/设计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码风格"><span class="nav-number">3.</span> <span class="nav-text">代码风格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#log"><span class="nav-number">4.</span> <span class="nav-text">log</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异常处理机制"><span class="nav-number">5.</span> <span class="nav-text">异常处理机制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#动态加载控制器"><span class="nav-number">6.</span> <span class="nav-text">动态加载控制器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#as"><span class="nav-number">7.</span> <span class="nav-text">as</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#storyboard-refrence"><span class="nav-number">8.</span> <span class="nav-text">storyboard refrence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#懒加载"><span class="nav-number">9.</span> <span class="nav-text">懒加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#objc"><span class="nav-number">10.</span> <span class="nav-text">@objc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#private-fileprivate"><span class="nav-number">11.</span> <span class="nav-text">private/fileprivate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通知-代理-block"><span class="nav-number">12.</span> <span class="nav-text">通知/代理/block</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#协议"><span class="nav-number">13.</span> <span class="nav-text">协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#构造器"><span class="nav-number">14.</span> <span class="nav-text">构造器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tabbarItem"><span class="nav-number">15.</span> <span class="nav-text">tabbarItem</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#day-2"><span class="nav-number"></span> <span class="nav-text">day 2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#UIPresentationController"><span class="nav-number">1.</span> <span class="nav-text">UIPresentationController</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2016 - 2018 guchunli All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				UV : <span id="busuanzi_value_site_uv"></span> |  
				PV : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives/" class="mobile-nav-link">Archives</a>
  
    <a href="/categories/study/" class="mobile-nav-link">Study</a>
  
    <a href="/categories/other/" class="mobile-nav-link">Other</a>
  
    <a href="/photos" class="mobile-nav-link">Photos</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>



	<script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?{{ theme.baidu_analytics }}";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            guchunli
          </div>
          <div class="panel-body">
            Copyright © 2018 谷春丽的小站 All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>